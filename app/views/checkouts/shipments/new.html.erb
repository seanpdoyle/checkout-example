<% content_for :header do %>
  <%= link_to books_path do %>
    <%= inline_svg_tag("logo", title: translate("layouts.application.brand"), class: "
      h-8
    ") %>
  <% end %>
<% end %>

<section class="
  md:mx-24
  md:my-12
  space-y-4
  md:space-y-8
">
  <nav class="
    flex
    flex-row
    items-center
    md:text-lg
    text-sm
  ">
    <span>
      <%= translate(".checkouts") %>
    </span>

    <%= inline_svg_tag("icons/chevron-right", class: "
      h-6
      stroke-current
      w-6
    ") %>

    <span>
      <%= translate(".shipments") %>
    </span>
  </nav>

  <h1 class="
    font-semibold
    md:text-2xl
  ">
    <%= translate(".title") %>
  </h1>

  <%= form_with(model: shipment, html: {
    class: "
      flex
      flex-col
      items-start
      md:flex-row
    ",
  }) do |form| %>
    <%= form.hidden_field :country %>

    <section class="
      flex-grow
      mb-8
      md:mb-auto
      md:mr-24
      space-y-4
    ">
      <fieldset class="
        flex
        flex-col
        items-stretch
        space-y-2
      ">
        <%= form.label(:name, class: "
          block
        ") %>
        <%= form.text_field(:name, class: "
            form-input
        ") %>

        <%= form.label(:email, class: "
          block
        ") %>
        <%= form.email_field(:email, class: "
            form-input
        ") %>
      </fieldset>

      <fieldset class="
        flex
        flex-col
        items-stretch
        space-y-2
      ">
        <%= form.label(:line1, class: "
          block
        ") %>
        <%= form.text_field(:line1, class: "
          form-input
        ") %>

        <%= form.label(:line2, class: "
          block
        ") %>
        <%= form.text_field(:line2, class: "
          form-input
        ") %>

        <%= form.label(:city, class: "
          block
        ") %>
        <%= form.text_field(:city, class: "
          form-input
        ") %>

        <div class="
          row-gap-2
          col-gap-4
          grid
          grid-cols-2
        ">
          <%= form.label(:state, class: "
            block
          ") %>
          <%= form.label(:postal_code, class: "
            block
          ") %>

          <%= form.text_field(:state, class: "
            form-input
          ") %>
          <%= form.text_field(:postal_code, class: "
              form-input
          ") %>
        </div>
      </fieldset>
    </section>

    <section class="
      md:space-y-8
      md:w-2/6
      space-y-4
      w-full
    ">
      <aside class="
        bg-red-100
        md:p-8
        md:space-y-6
        p-4
        rounded-lg
        space-y-2
      ">
        <h2 class="
          font-semibold
          text-xl
        ">
          Order Summary
        </h2>

        <table class="
          flex
          flex-col
          space-y-2
          md:space-y-6
        ">
          <thead class="
            space-y-2
            md:space-y-6
          ">
            <tr class="
              flex
              justify-between
            ">
              <th class="
                font-light
                text-gray-600
              ">
                Product
              </th>

              <th scope="col" class="
                font-light
                text-gray-600
              ">
                Price
              </th>
            </tr>
          </thead>

          <tbody class="
            space-y-2
            md:space-y-6
          ">
          <% shipment.line_items.each do |line_item| %>
            <tr class="
              flex
              justify-between
            ">
              <th scope="row" class="
                font-normal
              ">
                <%= line_item.title %>
              </th>

              <td class="
                font-semibold
              ">
                <%= number_to_currency(line_item.price_in_dollars) %>
              </td>
            </tr>
          <% end %>
          </tbody>

          <tfoot class="
            space-y-2
            md:space-y-6
          ">
            <tr class="
              flex
              justify-between
            ">
              <th scope="row" class="
                font-normal
              ">
                Sub-total
              </th>

              <td class="
                font-semibold
              ">
                <%= number_to_currency(shipment.total_in_dollars) %>
              </td>
            </tr>

            <tr class="
              flex
              justify-between
            ">
              <th scope="row" class="
                font-normal
              ">
                Shipping
              </th>

              <td class="
                font-semibold
              ">
                Free shipping
              </td>
            </tr>

            <tr class="
              flex
              justify-between
              py-4
              md:py-6
            ">
              <th scope="row" class="
                font-normal
              ">
                Total
              </th>

              <td class="
                font-semibold
              ">
                <%= number_to_currency(shipment.total_in_dollars) %>
              </td>
            </tr>
          </tfoot>
        </table>
      </aside>

      <%= form.button(class: "
        bg-red-600
        hover:bg-red-700
        px-4
        py-2
        rounded-full
        text-center
        text-white
        text-xl
        w-full
      ") %>
    </section>
  <% end %>
</section>
