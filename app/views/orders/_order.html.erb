<header class="
  flex
  items-center
  justify-between
  p-8
">
  <h1 class="
    font-bold
    text-3xl
  ">
    <%= translate(".title") %>
  </h1>
</header>

<section class="
  flex-grow
  overflow-y-auto
  p-8
  space-y-4
">
  <% order.line_items.for_cart.each do |line_item| %>
    <div class="
      flex
      flex-row
      justify-between
      space-x-4
    ">
      <div class="
        self-center
      ">
        <%= form_with(model: line_item, method: :delete) do |form| %>
          <%= form.button do %>
            <%= inline_svg_tag("icons/x", title: translate(".remove", book: line_item.title), class: "
              h-4
              stroke-current
              w-4
            ") %>
          <% end %>
        <% end %>
      </div>

      <div class="
        bg-red-100
        justify-center
        px-4
        py-6
        rounded-lg
      ">
        <%= render("books/cover", cover: line_item.cover, caption: line_item.title, class: "
          h-18
          w-12
        ") %>
      </div>

      <div class="
        flex
        flex-col
        flex-grow
        items-center
        justify-center
        text-center
      ">
        <h1 class="
          font-semibold
        ">
          <%= line_item.title %>
        </h1>

        <p class="
          font-semibold
        ">
          <%= number_to_currency(line_item.price_in_dollars) %>
        </p>

        <%= form_with(model: line_item, html: {
          class: "
            border-2
            border-red-100
            flex
            flex-row
            items-center
            justify-between
            p-1
            rounded-full
          ",
          "data-scroll-permanent": true,
        }) do |form| %>
          <%= form.button(name: "line_item[increment]", value: "-1") do %>
            <%= inline_svg_tag("icons/chevron-left", title: translate("helpers.submit.line_item.decrement"), class: "
              h-6
              stroke-current
              w-6
            ") %>
          <% end %>

          <span class="
            font-semibold
            mx-4
          ">
            <%= line_item.quantity %>
          </span>

          <%= form.button(name: "line_item[increment]", value: "1") do %>
            <%= inline_svg_tag("icons/chevron-right", title: translate("helpers.submit.line_item.increment"), class: "
              h-6
              stroke-current
              w-6
            ")%>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
</section>

<footer class="
  bg-red-100
  flex
  flex-col
  px-8
  py-8
  space-y-6
">
  <div class="
    flex
    justify-between
  ">
    <span>
      <%= translate(".total_in_dollars") %>
    </span>

    <span class="
      font-bold
    ">
      <%= number_to_currency(order.total_in_dollars) %>
    </span>
  </div>

  <% if order.line_items.any? %>
    <%= link_to(new_order_shipment_path(order), class: "
      bg-red-600
      hover:bg-red-700
      px-4
      py-2
      rounded-full
      text-center
      text-white
    ") do %>
      <%= translate(".checkout") %>
    <% end %>
  <% end %>
</footer>
